watch_file flake.nix
watch_file flake.lock
watch_file devenv.nix

use flake

# Optional: Uncomment to use the minimal shell without the banner
# use flake .#minimal

# Optional: Add any project-specific environment variables here
# export DATABASE_URL="postgresql://localhost/singularity_dev"

# Load Cachix auth token and other secrets from .envrc.local if it exists
if [ -f .envrc.local ]; then
  source .envrc.local
fi

# Optional: Load secrets from .env.local if it exists (not committed to git)
if [ -f .env.local ]; then
  dotenv .env.local
fi